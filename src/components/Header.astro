---
import fs from 'node:fs';
import path from 'node:path';
import { fileURLToPath } from 'node:url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

const headersDir = path.resolve(__dirname, '../../public/header');
let images: string[] = [];
if (fs.existsSync(headersDir)) {
    images = fs.readdirSync(headersDir).filter(file =>
        /\.(png|jpe?g|webp|avif|gif|svg)$/i.test(file)
    );
}
const random = images[Math.floor(Math.random() * images.length)];
---

<img src={`/header/${random}`} alt="header image" class="header" />

<style>
    .header {
        width: 100%;
        height: 230px;
        object-fit: cover;
        pointer-event: none;
    }
</style>